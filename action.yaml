name: "42Crunch API Conformance Scan"
description: "The API Conformance Scan action adds an automatic static Conformance Scan to your workflows"
inputs:
  api-token:
    description: "The API token to access 42Crunch Platform. Please create free account at https://platform.42crunch.com/register and follow hese steps to configure API_TOKEN https://docs.42crunch.com/latest/content/tasks/integrate_github_actions.htm"
    required: false
  platform-url:
    description: "42Crunch platform URL"
    required: false
    default: "https://platform.42crunch.com"
  report-path:
    required: true
    description: "Path to JSON report from audit step"


branding:
  icon: "eye"
  color: "purple"
runs:
  using: "docker"
  image: "Dockerfile"
  env:
    api_token: ${{ inputs.api-token }}
    platform_url: ${{ inputs.platform-url }}
    report_path: ${{ inputs.report-path }}
  # args:
  #     - env
  #     - API_TOKEN=${API_TOKEN}
  #     - PLATFORM_URL=${PLATFORM_URL}
  #     - REPORT_PATH=${REPORT_PATH}
  # args:
  #   - -e --api-token=${{ inputs.api-token }} --platform-url=${{ inputs.platform-url }} --report-path=${{ inputs.report-path }}